<!DOCTYPE html>
<html>
  <head>
    <script src="https://fb.me/react-0.14.0.js"></script>
    <script src="https://fb.me/react-dom-0.14.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.0.4/redux.js"></script>
    <script src="https://wzrd.in/standalone/expect@latest"></script>
    <script src="https://wzrd.in/standalone/deep-freeze@latest"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/babel">
      const toggleTodo = (todo) => {
        // todo.completed = !todo.completed;
        // return todo;

        // return {
        //   id: todo.id,
        //   text: todo.text,
        //   completed: !todo.completed,
        // }

        // return Object.assign({}, todo, {
        //   completed: !todo.completed
        // });

        return {
          ...todo,
          completed: !todo.completed,
        };
      };

      const testToggleTodo = () => {
        const todoBefore = {
          id: 0,
          text: 'learn redux',
          completed: false
        };
        const todoAfter = {
          id: 0,
          text: 'learn redux',
          completed: true
        };
        deepFreeze(todoBefore);
        expect(
          toggleTodo(todoBefore)
        ).toEqual(todoAfter);
      };

      testToggleTodo();
      console.log("tests passed!");
    </script>
  </body>
</html>